# Document of lilcaSoundDriverFC

## 基礎知識

## ステートメント


## 命令コード

| コマンド値    | 意味          | サイズ            | 備考 |
|------------|--------------|------------------------|
| $00        | 音符          | ノート番号, フレーム数  |
| $01        | 休符          | フレーム数   |
| $02        | 音量          | 音量値(0-15)            |
| $03        | 音色          | 矩形波(0-3), ノイズ(0-1) |
| $04        | Reserved     | 未使用 |
| $05        | オクターブ     | オクターブ値(0-5 => o2-o7)
| $06        | オクターブUP   | 引数なし
| $07        | オクターブDOWN | 引数なし
| $10        | リピート開始    | なし(カウントに$FFを設定)
| $11        | リピート終了    | リピート回数(0-127)   |
| $80        | ボリュームマクロ | マクロ番号 | バイナリ変換時に番号は振り直すのでmmlの番号とは違うこともある) |
| $FF        | 終端子        | 引数なし               |

## 音階

## 長さ(音符, 休符)



## 音の長さ
テンポ t=160
符長 len=32=32分音符


定数A: 60fps x 60秒 x 4分音符長 = 14400

フレーム数
F =  Int (A / t / len) 

## 音階
音階n: C1=0 - A8=93
a4の周波数 = 440
周波数f: = 440 x 2 xx (n / 12)
f = fn(note, octave)
  = 440 * 2 ** (( (note-9) + (octave-4) * 12 -  )/12)
タイマー値T: = -1 + 1789773 / 16 / f




テンポ：120
レングス：4
ボリューム:12
オクターブ: デフォルト4



f = clock / (16 *(timer + 1))
timer = clock / (16 x f) - 1


ノイズチャンネル
@v1={12 15 14 14 13 13 | 8 8 8 8 3 3 3 3 0 }
; 音階 c - b  0-4 5 6 7 8 9 a b c d e f
;$400E b3-0 = 0  1 2 3 4 5 6 7 8 9 a b
音階	c	d	e	f	g	a	b
周期	5	6	7	8	9	a	b
0-4,c-fが使えない
